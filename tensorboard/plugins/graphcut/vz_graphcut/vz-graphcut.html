<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="vz-graphcut-style.html">
<script src="vz-graphcut-util.js"></script>

<dom-module id="vz-graphcut">
    <template>
    <style include="vz-graphcut-style"></style>
        <div class="gcdiv">
            <div class="title">EVALUATE CLUSTERS

            <paper-icon-button icon="help" class="help-icon"></paper-icon-button>
            <paper-tooltip animation-delay="0" offset="0">
                This panel is used to set the parameters of the Louvain community detection algorithm. After changing the settings, run the algorithm and check the visual results in the Projector panel and the numerical results in the Result panel.
            </paper-tooltip>
                
            </div>
            <div id="gcfractext">Fraction to keep: 0.0001</div>
            <div class="gcfraction">
                <paper-slider value-change="handleFractionChanged" id="gcfraction" min="0.001" max="0.1" value="{{_gcfraction}}" step="0.0001"></paper-slider>
                <paper-input id="gcfracinput" type="number" min="0.001" max="0.1" step="0.0001" value="0.024"></paper-input>
            </div>
            <div id="gcclustext">Clusters to detect: 2</div>
            <div class="gcfraction">
                <paper-slider editable id="gccluster" min="2" max="30" value="{{_gccluster}}" step="1"></paper-slider>
            </div>
            <div class="gcbtndiv">
                <paper-button on-click="handleRunGc" id="graphcut">Run graph cut algorithm</paper-button>
            </div>
            <div class="title" style="margin-top: 20px;">RESULT
                <paper-icon-button icon="help" class="help-icon"></paper-icon-button>
                <paper-tooltip animation-delay="0" offset="0">
                    You can see here the numerical result of the evaluation as the model accuracy and the cluster accuracies and related majority labels. You can also export the results and the model here.
                </paper-tooltip>
            </div>
            
            <div id="resultdiv">
                    <paper-button id="exportbutton" disabled=[[_disableExport]] on-click="handleExport">Export result</paper-button>
                    <button id="graphcutaccuracy" class="collapsible"></button>
                    <div class="content">
                        <ul id="accuracies">
                        </ul>
                    </div>
                <div class="gcimagecontainer">
                    <img id="graphcutimage"></img>
                </div>
            </div>
            
          </div>
    </template>
    <script src="vz-graphcut.js">
    </script>
</dom-module>